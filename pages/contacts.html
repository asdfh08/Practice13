<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Контакты - Портфолио</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
  <style>
    /* Дополнительные стили для доступности форм */
    .required::after {
      content: " *";
      color: #dc3545;
    }
    
    .form-control:focus {
      border-color: #0066cc;
      box-shadow: 0 0 0 0.2rem rgba(0, 102, 204, 0.25);
    }
    
    .is-invalid {
      border-color: #dc3545;
    }
    
    .invalid-feedback {
      display: none;
      color: #dc3545;
      font-size: 0.875em;
    }
    
    .is-invalid ~ .invalid-feedback {
      display: block;
    }
  </style>
</head>
<body class="d-flex flex-column min-vh-100">
  <!-- Пропуск ссылки (как в примере методички) -->
  <a href="#main-content" class="skip-link">
    Перейти к основному содержимому
  </a>

  <!-- Header -->
  <header class="bg-primary text-white py-4" style="background-color: #0056b3 !important;">
    <div class="container">
      <div class="row align-items-center">
        <div class="col">
          <h1 class="h3 mb-1">Моё портфолио</h1>
          <p class="mb-0" style="color: #e2ebf3;">Студент разработчик</p>
        </div>
        <div class="col-auto">
          <span class="badge bg-primary text-white">ЭФБО-07-24</span>
        </div>
      </div>
    </div>
  </header>

  <!-- Navigation с доступностью (как в примере 1 методички) -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark" aria-label="Основная навигация">
    <div class="container">
      <button class="navbar-toggler" 
              type="button" 
              data-bs-toggle="collapse" 
              data-bs-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Переключить навигацию">
        <span class="navbar-toggler-icon" aria-hidden="true"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="../index.html">
              <i class="bi bi-house me-2" aria-hidden="true"></i>Главная
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="projects.html">
              <i class="bi bi-collection me-2" aria-hidden="true"></i>Проекты
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="diary.html">
              <i class="bi bi-journal-bookmark-fill me-2" aria-hidden="true"></i>Дневник
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="contacts.html" aria-current="page">
              <i class="bi bi-telephone me-2" aria-hidden="true"></i>Контакты
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="container py-5" id="main-content">
    <h1 class="text-center mb-4">Свяжитесь со мной</h1>
    
    <!-- Форма контактов с полной доступностью (как в примерах методички) -->
    <form id="contact-form" class="mx-auto" style="max-width: 500px;" aria-labelledby="form-title">
      <!-- Fieldset для группировки (как в требованиях) -->
      <fieldset>
        <legend id="form-title" class="visually-hidden">Контактная форма</legend>
        
        <!-- Имя -->
        <div class="mb-3">
          <label for="name" class="form-label required">
            Имя
            <span class="visually-hidden">(обязательное поле)</span>
          </label>
          <input type="text" 
                 class="form-control" 
                 id="name" 
                 name="name"
                 required
                 aria-required="true"
                 aria-invalid="false"
                 aria-describedby="name-help name-error">
          <div id="name-help" class="form-text">
            Введите ваше полное имя
          </div>
          <div id="name-error" class="invalid-feedback" role="alert" aria-live="polite">
            Пожалуйста, введите ваше имя
          </div>
        </div>
        
        <!-- Email -->
        <div class="mb-3">
          <label for="email" class="form-label required">
            Email
            <span class="visually-hidden">(обязательное поле)</span>
          </label>
          <input type="email" 
                 class="form-control" 
                 id="email" 
                 name="email"
                 required
                 aria-required="true"
                 aria-invalid="false"
                 aria-describedby="email-help email-error">
          <div id="email-help" class="form-text">
            Мы никогда не делимся вашим email
          </div>
          <div id="email-error" class="invalid-feedback" role="alert" aria-live="polite">
            Пожалуйста, введите корректный email
          </div>
        </div>
        
        <!-- Сообщение -->
        <div class="mb-3">
          <label for="message" class="form-label required">
            Сообщение
            <span class="visually-hidden">(обязательное поле)</span>
          </label>
          <textarea class="form-control" 
                    id="message" 
                    name="message" 
                    rows="5"
                    required
                    aria-required="true"
                    aria-invalid="false"
                    aria-describedby="message-help message-error"></textarea>
          <div id="message-help" class="form-text">
            Опишите ваш вопрос или предложение
          </div>
          <div id="message-error" class="invalid-feedback" role="alert" aria-live="polite">
            Пожалуйста, введите сообщение
          </div>
        </div>
        
        <!-- Кнопка отправки с ARIA-label -->
        <button type="submit" 
                class="btn btn-primary w-100"
                aria-label="Отправить контактную форму">
          Отправить сообщение
        </button>
      </fieldset>
    </form>
    
    <!-- Контактная информация -->
    <section class="mt-5 text-center" aria-labelledby="contact-info">
      <h2 id="contact-info" class="h4 mb-3">Другие способы связи</h2>
      <address>
        <p>
          <i class="bi bi-envelope me-2" aria-hidden="true"></i>
          <strong>Email:</strong> 
          <a href="mailto:student@example.com">student@example.com</a>
        </p>
        <p>
          <i class="bi bi-telephone me-2" aria-hidden="true"></i>
          <strong>Телефон:</strong> 
          <a href="tel:+71234567890">+7 (123) 456-78-90</a>
        </p>
      </address>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-dark text-white py-4 mt-auto">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <p class="mb-0">&copy; 2024 Конкина Е.А. Все права защищены.</p>
        </div>
        <div class="col-md-6 text-md-end">
          <a href="#" class="text-white text-decoration-none">Политика конфиденциальности</a>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Валидация формы (как в примерах методички)
    document.getElementById('contact-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      let isValid = true;
      
      // Проверка имени
      const nameInput = document.getElementById('name');
      const nameError = document.getElementById('name-error');
      if (nameInput.value.trim() === '') {
        nameInput.classList.add('is-invalid');
        nameInput.setAttribute('aria-invalid', 'true');
        nameError.textContent = 'Пожалуйста, введите ваше имя';
        isValid = false;
      } else {
        nameInput.classList.remove('is-invalid');
        nameInput.setAttribute('aria-invalid', 'false');
        nameError.textContent = '';
      }
      
      // Проверка email
      const emailInput = document.getElementById('email');
      const emailError = document.getElementById('email-error');
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(emailInput.value)) {
        emailInput.classList.add('is-invalid');
        emailInput.setAttribute('aria-invalid', 'true');
        emailError.textContent = 'Пожалуйста, введите корректный email';
        isValid = false;
      } else {
        emailInput.classList.remove('is-invalid');
        emailInput.setAttribute('aria-invalid', 'false');
        emailError.textContent = '';
      }
      
      // Проверка сообщения
      const messageInput = document.getElementById('message');
      const messageError = document.getElementById('message-error');
      if (messageInput.value.trim() === '') {
        messageInput.classList.add('is-invalid');
        messageInput.setAttribute('aria-invalid', 'true');
        messageError.textContent = 'Пожалуйста, введите сообщение';
        isValid = false;
      } else {
        messageInput.classList.remove('is-invalid');
        messageInput.setAttribute('aria-invalid', 'false');
        messageError.textContent = '';
      }
      
      // Если все валидно
      if (isValid) {
        alert('Сообщение успешно отправлено!');
        this.reset();
        
        // Сброс ARIA-атрибутов
        const inputs = this.querySelectorAll('input, textarea');
        inputs.forEach(input => {
          input.setAttribute('aria-invalid', 'false');
        });
      }
    });
    
    // Реальная валидация при вводе
    document.querySelectorAll('#contact-form input, #contact-form textarea').forEach(input => {
      input.addEventListener('blur', function() {
        if (this.value.trim() === '' && this.hasAttribute('required')) {
          this.classList.add('is-invalid');
          this.setAttribute('aria-invalid', 'true');
        }
      });
      
      input.addEventListener('input', function() {
        if (this.value.trim() !== '') {
          this.classList.remove('is-invalid');
          this.setAttribute('aria-invalid', 'false');
        }
      });
    });
    
    // Управление с клавиатуры (Escape для сброса)
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        const focused = document.activeElement;
        if (focused && focused.tagName === 'INPUT') {
          focused.blur();
        }
      }
    });
  </script>
</body>
</html>